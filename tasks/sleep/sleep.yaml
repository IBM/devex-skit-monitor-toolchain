---
apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: sleep
spec:
  params:
    - name: sleep-duration
      description: the amount of seconds to sleep
      default: 600
  workspaces:
    - name: artifacts
      description: A workspace
      mountPath: /artifacts
  steps:
    - name: sleep
      image: ibmcom/pipeline-base-image:2.13
      workingDir: /artifacts
      env:
        - name: SLEEP_DURATION
          value: $(params.sleep-duration)
      script: |
        #!/bin/bash
        set -e -o pipefail
        
        sleep "$SLEEP_DURATION"
